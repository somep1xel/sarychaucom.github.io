import{a as d}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-74HS5GPD.js";import{a as h,b as c}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-VUMTJGGR.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-6KSQTR3K.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-EY3A6WHN.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-LRRFCMXM.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-GM7XC6J3.js";import{a,b as u}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-AP6ZTF4I.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-XNZWRS7L.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-NVRESK6X.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-VXWXKNSD.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-RQO4HN2I.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-YS6OJQ5M.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-FJQGQLMJ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-RK5WWAJI.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-O57S3OAW.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-K3ZYVFBP.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-JM53CC5U.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-2WCAUBI2.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-JDTPYEAT.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-MFXGAUC4.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-LWRNICVK.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-4O2Y2YMJ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-AYKRG7IZ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-HMT5347T.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-LSFWVCTE.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-XGUF5G5P.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-WL6ZQSJG.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-MM4LFCRQ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-IYI23R2A.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-Z4NGCL5P.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-CYIGHINP.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-VLWHP7AG.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-IAUE3GO7.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-7TCQXFX3.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-C47WL2DP.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-PXFGEFMI.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-E5M4HW7G.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-ZZRFNRXO.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-6MLNCVAE.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-K6CGFI43.js";import{o,p as w}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-GJMZ6BWS.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-57NWEFIT.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-3ACY4EGJ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-M3SREHKX.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-2Q6N434I.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-57ONJ7QI.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-77QY5NMS.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-BWADEWRI.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-KUOFTD55.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-GAIGKBLE.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-XDPBTDM5.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-LEEERCP7.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-5KFVCKRO.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-IX3NABCQ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-NAPGXKG3.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-5L33RLEK.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-33Q5QQWW.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-3ZGZD3KQ.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-CX3JD5K2.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-WYEG4Q4X.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-JBYZM3ZN.js";import{b as m}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-LNLS45XN.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-ALEAORJC.js";import"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-QRMZIDGZ.js";import{d as _}from"https://st-p.rmcdn1.net/8b076c5f/dist/c/c-B5ZKAV4B.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
