import{a as d}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-X7CKS3TL.js";import{a as h,b as c}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-5LS57VSP.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-7SGSM22N.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-JAOWUWZV.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-PL7ABX2I.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-4EIS7BYS.js";import{a,b as u}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-YFYJCE2Y.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-IZBFUTPF.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-AVU3O3A3.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-Q22YYVP5.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-GOFC52UR.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-EKAHBAJO.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-5SYCOQRH.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-63KV3ZGY.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-XPGMHGTV.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-ULVBXWJB.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-LMAJFMD3.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-BVIH2UGL.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-6XDN3DBH.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-ALPY2KEI.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-4IXHYMTJ.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-N5B75T5C.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-3KRTWZVS.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-R4HFD3XW.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-XU363OGR.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-YU6U5GVC.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-HAXW4JZF.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-CB2NKYP4.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-6STPIY4K.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-AM7TXFLC.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-EMMT4DZG.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-4EDWREOM.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-U37TGZF5.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-LU4XPS7Y.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-N37SZKKQ.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-EG5E5QYO.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-FXF7MH5O.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-UPC4VTLU.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-YCDY2MOI.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-42T2S72B.js";import{o,p as w}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-2CDGO4JD.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-ARS6ZOOH.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-UJDADLX2.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-XIVOHRGP.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-3KWPSLFK.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-X55EUBSV.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-PPLKGJWU.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-6EJ6POVP.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-IFSG4W4N.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-P6WXO32G.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-HNMWL5VI.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-MIC544N2.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-PM3MPBFM.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-LRUDMK45.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-436X52LU.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-AGWT4SHS.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-7U5OSRI4.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-QO3IW7EG.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-SXRVX7TP.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-7KIOWWLZ.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-AWZQWCMD.js";import{b as m}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-BS6HJK3Z.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-GBSL67OG.js";import"https://st-p.rmcdn1.net/2cde20db/dist/c/c-CAENMAS7.js";import{d as _}from"https://st-p.rmcdn1.net/2cde20db/dist/c/c-F2U6PKQI.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
